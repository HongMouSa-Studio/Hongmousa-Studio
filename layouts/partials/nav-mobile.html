<div class="nav-mobile-inner" style="padding: 1rem;">
  <ul style="display: flex; flex-direction: column; gap: 0.5rem;">
    <li><a href="{{ "/" | relLangURL }}" class="mobile-nav-link">{{ i18n "nav_home" }}</a></li>
    <li><a href="{{ "products/" | relLangURL }}" class="mobile-nav-link">{{ i18n "nav_products" }}</a></li>
    <li><a href="{{ "blog/" | relLangURL }}" class="mobile-nav-link">{{ i18n "nav_blog" }}</a></li>
    <li><a href="{{ "about/" | relLangURL }}" class="mobile-nav-link">{{ i18n "nav_about" }}</a></li>
    <li><a href="{{ "contact/" | relLangURL }}" class="mobile-nav-link">{{ i18n "nav_contact" }}</a></li>
  </ul>

  <!-- Styled Mobile Language Switcher -->
  <div class="lang-mobile-group">
    <div class="lang-mobile-header">
       <i class="fa-solid fa-globe"></i>
       <span>{{ i18n "nav_lang_title" }}</span>
    </div>

    <!-- Language List (Grid Design) -->
    <div class="lang-mobile-list">
      {{ $currentLang := .Site.Language.Lang }}
      {{ $currentUrl := .Page.RelPermalink }}
      
      {{ range .Site.Languages }}
        {{ $active := eq .Lang $currentLang }}
        
        {{ $targetUrl := "" }}
        {{ $currentPrefix := printf "/%s/" $currentLang }}
        {{ $targetPrefix := printf "/%s/" .Lang }}
        
        {{ if in $currentUrl $currentPrefix }}
            {{ $targetUrl = replace $currentUrl $currentPrefix $targetPrefix }}
        {{ else }}
            {{ $targetUrl = $targetPrefix }} 
        {{ end }}

        <a href="{{ $targetUrl }}" class="lang-mobile-item {{ if $active }}active{{ end }}" data-lang="{{ .Lang }}">
           <span class="lang-name">{{ .LanguageName }}</span>
        </a>
      {{ end }}
    </div>
  </div>
</div>