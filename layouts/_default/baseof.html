<!DOCTYPE html>
<html lang="{{ if eq .Site.Language.Lang "tb-poj" }}en{{ else if eq .Site.Language.Lang "tb-hj" }}zh-TW{{ else }}{{ .Site.Language.Lang }}{{ end }}">
  <head>
    <!-- lang-redirect khē tiàm head a̍h-sī header chìn-chêng ē-tàng khah chá chip-hêng -->
    {{ partial "lang-redirect.html" . }} {{ partial "head.html" . }}
  </head>

  <body class="min-h-screen flex flex-col">
    <!-- Accessibility skip link (Bô-chiòng-gāi siat-tēng) -->
    <a class="sr-only" href="#main"> Skip to main </a>

    <!-- 1. HEADER -->
    {{ partial "header.html" . }}

    <!-- 2. AUTH -->
    <script type="module" src="/js/auth.js"></script>

    <!-- 3. List + Single -->
    <main id="main" class="flex-grow">{{ block "main" . }}{{ end }}</main>

    <!-- 5. FOOTER -->
    {{ partial "footer.html" . }}

    <!-- SNIPCART SCRIPT (Install Code) -->
    <div
      hidden
      id="snipcart"
      data-api-key="OTU4OWY1NjMtMTVkZS00ZmVhLWE0NWQtZGRjMDllNjU5YjQyNjM5MDEyNzQxNTg2MjA0Nzc4"
      data-config-modal-style="side"
      data-currency="twd"
      data-config-add-product-behavior="none"
    ></div>

    <script
      async
      src="https://cdn.snipcart.com/themes/v3.2.0/default/snipcart.js"
    ></script>
    <script type="module" src="/js/snipcart-config.js?v=15"></script>
  </body>
</html>

<!-- AUTH JS (Kui ê bāng-chām teng-ji̍p chōng-thài it-tì) -->
<script type="module" src="/js/global-auth.js"></script>